const t={},e=()=>{},n=Object.assign,r=Object.prototype.hasOwnProperty,s=(t,e)=>r.call(t,e),i=Array.isArray,o=t=>"function"==typeof t,c=t=>"symbol"==typeof t,u=t=>null!==t&&"object"==typeof t,a=Object.prototype.toString,l=t=>(t=>a.call(t))(t).slice(8,-1),f=(t,e)=>t!==e&&(t==t||e==e),_=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},h=new WeakMap,v=[];let d;const g=Symbol(""),y=Symbol("");function p(e,n=t){(function(t){return t&&!0===t._isEffect})(e)&&(e=e.raw);const r=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!v.includes(n)){b(n);try{return O(),v.push(n),d=n,t()}finally{v.pop(),j(),d=v[v.length-1]}}};return n.id=R++,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(e,n);return n.lazy||r(),r}function w(t){t.active&&(b(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let R=0;function b(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let S=!0;const E=[];function m(){E.push(S),S=!1}function O(){E.push(S),S=!0}function j(){const t=E.pop();S=void 0===t||t}function k(t,e,n){if(!S||void 0===d)return;let r=h.get(t);r||h.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(d)||(s.add(d),d.deps.push(s))}function P(t,e,n,r,s,o){const c=h.get(t);if(!c)return;const u=new Set,a=t=>{t&&t.forEach(t=>{t!==d&&u.add(t)})};if("clear"===e)c.forEach(a);else if("length"===n&&i(t))c.forEach((t,e)=>{("length"===e||e>=r)&&a(t)});else{void 0!==n&&a(c.get(n));const r="add"===e||"delete"===e&&!i(t);(r||"set"===e&&t instanceof Map)&&a(c.get(i(t)?"length":g)),r&&t instanceof Map&&a(c.get(y))}u.forEach(t=>{t.options.scheduler?t.options.scheduler(t):t()})}const x=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(c)),z=W(),M=W(!1,!0),A=W(!0),K=W(!0,!0),V={};function W(t=!1,e=!1){return function(n,r,o){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&o===(t?n.__v_readonly:n.__v_reactive))return n;const a=i(n);if(a&&s(V,r))return Reflect.get(V,r,o);const l=Reflect.get(n,r,o),f=c(r);if(f?x.has(r):"__proto__"===r||"__v_isRef"===r)return l;if(t||k(n,0,r),e)return l;if(bt(l)){return!a||f||""+parseInt(r,10)!==r?l.value:l}return u(l)?t?_t(l):lt(l):l}}["includes","indexOf","lastIndexOf"].forEach(t=>{V[t]=function(...e){const n=pt(this);for(let t=0,e=this.length;t<e;t++)k(n,0,t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(pt)):r}});function I(t=!1){return function(e,n,r,o){const c=e[n];if(!t&&(r=pt(r),!i(e)&&bt(c)&&!bt(r)))return c.value=r,!0;const u=s(e,n),a=Reflect.set(e,n,r,o);return e===pt(o)&&(u?f(r,c)&&P(e,"set",n,r):P(e,"add",n,r)),a}}function B(t,e){const n=Reflect.has(t,e);return c(e)&&x.has(e)||k(t,0,e),n}function N(t){return k(t,0,g),Reflect.ownKeys(t)}const q={get:z,set:I(),deleteProperty:function(t,e){const n=s(t,e),r=Reflect.deleteProperty(t,e);return r&&n&&P(t,"delete",e,void 0),r},has:B,ownKeys:N},C={get:A,has:B,ownKeys:N,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},D=n({},q,{get:M,set:I(!0)}),F=n({},C,{get:K}),G=t=>u(t)?lt(t):t,H=t=>u(t)?_t(t):t,J=t=>t,L=t=>Reflect.getPrototypeOf(t);function Q(t,e,n=!1,r=!1){const s=pt(t=t.__v_raw),i=pt(e);e!==i&&!n&&k(s,0,e),!n&&k(s,0,i);const{has:o}=L(s),c=n?H:r?J:G;return o.call(s,e)?c(t.get(e)):o.call(s,i)?c(t.get(i)):void 0}function T(t,e=!1){const n=this.__v_raw,r=pt(n),s=pt(t);return t!==s&&!e&&k(r,0,t),!e&&k(r,0,s),n.has(t)||n.has(s)}function U(t,e=!1){return t=t.__v_raw,!e&&k(pt(t),0,g),Reflect.get(t,"size",t)}function X(t){t=pt(t);const e=pt(this),n=L(e),r=n.has.call(e,t),s=n.add.call(e,t);return r||P(e,"add",t,t),s}function Y(t,e){e=pt(e);const n=pt(this),{has:r,get:s,set:i}=L(n);let o=r.call(n,t);o||(t=pt(t),o=r.call(n,t));const c=s.call(n,t),u=i.call(n,t,e);return o?f(e,c)&&P(n,"set",t,e):P(n,"add",t,e),u}function Z(t){const e=pt(this),{has:n,get:r,delete:s}=L(e);let i=n.call(e,t);i||(t=pt(t),i=n.call(e,t));r&&r.call(e,t);const o=s.call(e,t);return i&&P(e,"delete",t,void 0),o}function $(){const t=pt(this),e=0!==t.size,n=L(t).clear.call(t);return e&&P(t,"clear",void 0,void 0),n}function tt(t,e){return function(n,r){const s=this,i=pt(s),o=t?H:e?J:G;return!t&&k(i,0,g),L(i).forEach.call(i,(function(t,e){return n.call(r,o(t),o(e),s)}))}}function et(t,e,n){return function(...r){const s=this.__v_raw,i=pt(s),o=i instanceof Map,c="entries"===t||t===Symbol.iterator&&o,u="keys"===t&&o,a=s[t](...r),l=e?H:n?J:G;return!e&&k(i,0,u?y:g),{next(){const{value:t,done:e}=a.next();return e?{value:t,done:e}:{value:c?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function nt(t){return function(...e){return"delete"!==t&&this}}const rt={get(t){return Q(this,t)},get size(){return U(this)},has:T,add:X,set:Y,delete:Z,clear:$,forEach:tt(!1,!1)},st={get(t){return Q(this,t,!1,!0)},get size(){return U(this)},has:T,add:X,set:Y,delete:Z,clear:$,forEach:tt(!1,!0)},it={get(t){return Q(this,t,!0)},get size(){return U(this,!0)},has(t){return T.call(this,t,!0)},add:nt("add"),set:nt("set"),delete:nt("delete"),clear:nt("clear"),forEach:tt(!0,!1)};function ot(t,e){const n=e?st:t?it:rt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(s(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach(t=>{rt[t]=et(t,!1,!1),it[t]=et(t,!0,!1),st[t]=et(t,!1,!0)});const ct={get:ot(!1,!1)},ut={get:ot(!1,!0)},at={get:ot(!0,!1)};function lt(t){return t&&t.__v_isReadonly?t:vt(t,!1,q,ct)}function ft(t){return vt(t,!1,D,ut)}function _t(t){return vt(t,!0,C,at)}function ht(t){return vt(t,!0,F,at)}function vt(t,e,n,r){if(!u(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const i=e?"__v_readonly":"__v_reactive";if(s(t,i))return t[i];const o=(c=t).__v_skip||!Object.isExtensible(c)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(l(c));var c;if(0===o)return t;const a=new Proxy(t,2===o?r:n);return _(t,i,a),a}function dt(t){return gt(t)?dt(t.__v_raw):!(!t||!t.__v_isReactive)}function gt(t){return!(!t||!t.__v_isReadonly)}function yt(t){return dt(t)||gt(t)}function pt(t){return t&&pt(t.__v_raw)||t}function wt(t){return _(t,"__v_skip",!0),t}const Rt=t=>u(t)?lt(t):t;function bt(t){return Boolean(t&&!0===t.__v_isRef)}function St(t){return Ot(t)}function Et(t){return Ot(t,!0)}class mt{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Rt(t)}get value(){return k(pt(this),0,"value"),this._value}set value(t){f(pt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Rt(t),P(pt(this),"set","value",t))}}function Ot(t,e=!1){return bt(t)?t:new mt(t,e)}function jt(t){P(t,"set","value",void 0)}function kt(t){return bt(t)?t.value:t}const Pt={get:(t,e,n)=>kt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return bt(s)&&!bt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function xt(t){return dt(t)?t:new Proxy(t,Pt)}class zt{constructor(t){this.__v_isRef=!0;const{get:e,set:n}=t(()=>k(this,0,"value"),()=>P(this,"set","value"));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Mt(t){return new zt(t)}function At(t){const e=i(t)?new Array(t.length):{};for(const n in t)e[n]=Vt(t,n);return e}class Kt{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function Vt(t,e){return new Kt(t,e)}class Wt{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=p(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,P(pt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),k(pt(this),0,"value"),this._value}set value(t){this._setter(t)}}function It(t){let n,r;return o(t)?(n=t,r=e):(n=t.get,r=t.set),new Wt(n,r,o(t)||!t.set)}export{g as ITERATE_KEY,It as computed,Mt as customRef,p as effect,O as enableTracking,yt as isProxy,dt as isReactive,gt as isReadonly,bt as isRef,wt as markRaw,m as pauseTracking,xt as proxyRefs,lt as reactive,_t as readonly,St as ref,j as resetTracking,ft as shallowReactive,ht as shallowReadonly,Et as shallowRef,w as stop,pt as toRaw,Vt as toRef,At as toRefs,k as track,P as trigger,jt as triggerRef,kt as unref};
